{% extends "account/auth_card.html" %}
{% load widget_tweaks %}
{% load socialaccount %}

{% block auth_title %}Sign In{% endblock %}

{% block auth_body %}
<form method="post" action="{% url 'account_login' %}">
  {% csrf_token %}
  {{ form.non_field_errors }}

  <div class="mb-3">
    <label for="{{ form.login.id_for_label }}" class="form-label">Email or username</label>
    {{ form.login|add_class:"form-control" }}
    {{ form.login.errors }}
  </div>

  <div class="mb-3">
    <label for="{{ form.password.id_for_label }}" class="form-label">Password</label>
    {{ form.password|add_class:"form-control" }}
    {{ form.password.errors }}
  </div>

  <div class="d-flex justify-content-between align-items-center mb-3">
    <div class="form-check">
      <input class="form-check-input" type="checkbox" name="remember" id="remember" />
      <label class="form-check-label" for="remember">Remember me</label>
    </div>
    <a href="{% url 'account_reset_password' %}" class="small">Forgot password?</a>
  </div>

  <button class="btn btn-primary w-100 py-2" type="submit">Sign In</button>

  {% if socialaccount_providers %}
    <div class="mt-3">
      {% if socialaccount_providers.google %}
        <a class="btn btn-outline-dark w-100 mt-2" href="{% provider_login_url "google" %}">
          <i class="fa-brands fa-google me-2"></i> Sign in with Google
        </a>
      {% endif %}
      {# add other providers as needed #}
    </div>
  {% endif %}
</form>
{% endblock %}

{% block auth_footer %}
<p class="small mb-0">Don't have an account?
  <a href="{% url 'account_signup' %}">Create account</a>
</p>
{% endblock %}
